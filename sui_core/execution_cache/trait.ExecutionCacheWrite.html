<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ExecutionCacheWrite` trait in crate `sui_core`."><title>ExecutionCacheWrite in sui_core::execution_cache - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="sui_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../sui_core/index.html">sui_core</a><span class="version">0.1.0</span></h2></div><h2 class="location"><a href="#">ExecutionCacheWrite</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.acquire_transaction_locks">acquire_transaction_locks</a></li><li><a href="#tymethod.write_transaction_outputs">write_transaction_outputs</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In sui_core::execution_cache</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">sui_core</a>::<wbr><a href="index.html">execution_cache</a>::<wbr><a class="trait" href="#">ExecutionCacheWrite</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/sui_core/execution_cache.rs.html#608-639">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ExecutionCacheWrite: <a class="trait" href="https://doc.rust-lang.org/1.75.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/1.75.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> {
    // Required methods
    fn <a href="#tymethod.write_transaction_outputs" class="fn">write_transaction_outputs</a>(
        &amp;self,
        epoch_id: <a class="type" href="../../sui_types/committee/type.EpochId.html" title="type sui_types::committee::EpochId">EpochId</a>,
        tx_outputs: <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;TransactionOutputs&gt;
    ) -&gt; BoxFuture&lt;'_, <a class="type" href="../../sui_types/error/type.SuiResult.html" title="type sui_types::error::SuiResult">SuiResult</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.acquire_transaction_locks" class="fn">acquire_transaction_locks</a>&lt;'a&gt;(
        &amp;'a self,
        epoch_store: &amp;'a <a class="struct" href="../authority/authority_per_epoch_store/struct.AuthorityPerEpochStore.html" title="struct sui_core::authority::authority_per_epoch_store::AuthorityPerEpochStore">AuthorityPerEpochStore</a>,
        owned_input_objects: &amp;'a [<a class="type" href="../../sui_types/base_types/type.ObjectRef.html" title="type sui_types::base_types::ObjectRef">ObjectRef</a>],
        transaction: <a class="type" href="../../sui_types/transaction/type.VerifiedSignedTransaction.html" title="type sui_types::transaction::VerifiedSignedTransaction">VerifiedSignedTransaction</a>
    ) -&gt; BoxFuture&lt;'a, <a class="type" href="../../sui_types/error/type.SuiResult.html" title="type sui_types::error::SuiResult">SuiResult</a>&gt;;
}</code></pre><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.write_transaction_outputs" class="method"><a class="src rightside" href="../../src/sui_core/execution_cache.rs.html#626-630">source</a><h4 class="code-header">fn <a href="#tymethod.write_transaction_outputs" class="fn">write_transaction_outputs</a>(
    &amp;self,
    epoch_id: <a class="type" href="../../sui_types/committee/type.EpochId.html" title="type sui_types::committee::EpochId">EpochId</a>,
    tx_outputs: <a class="struct" href="https://doc.rust-lang.org/1.75.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;TransactionOutputs&gt;
) -&gt; BoxFuture&lt;'_, <a class="type" href="../../sui_types/error/type.SuiResult.html" title="type sui_types::error::SuiResult">SuiResult</a>&gt;</h4></section></summary><div class="docblock"><p>Write the output of a transaction.</p>
<p>Because of the child object consistency rule (readers that observe parents must observe all
children of that parent, up to the parent’s version bound), implementations of this method
must not write any top-level (address-owned or shared) objects before they have written all
of the object-owned objects (i.e. child objects) in the <code>objects</code> list.</p>
<p>In the future, we may modify this method to expose finer-grained information about
parent/child relationships. (This may be especially necessary for distributed object
storage, but is unlikely to be an issue before we tackle that problem).</p>
<p>This function may evict the mutable input objects (and successfully received objects) of
transaction from the cache, since they cannot be read by any other transaction.</p>
<p>Any write performed by this method immediately notifies any waiter that has previously
called notify_read_objects_for_execution or notify_read_objects_for_signing for the object
in question.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.acquire_transaction_locks" class="method"><a class="src rightside" href="../../src/sui_core/execution_cache.rs.html#633-638">source</a><h4 class="code-header">fn <a href="#tymethod.acquire_transaction_locks" class="fn">acquire_transaction_locks</a>&lt;'a&gt;(
    &amp;'a self,
    epoch_store: &amp;'a <a class="struct" href="../authority/authority_per_epoch_store/struct.AuthorityPerEpochStore.html" title="struct sui_core::authority::authority_per_epoch_store::AuthorityPerEpochStore">AuthorityPerEpochStore</a>,
    owned_input_objects: &amp;'a [<a class="type" href="../../sui_types/base_types/type.ObjectRef.html" title="type sui_types::base_types::ObjectRef">ObjectRef</a>],
    transaction: <a class="type" href="../../sui_types/transaction/type.VerifiedSignedTransaction.html" title="type sui_types::transaction::VerifiedSignedTransaction">VerifiedSignedTransaction</a>
) -&gt; BoxFuture&lt;'a, <a class="type" href="../../sui_types/error/type.SuiResult.html" title="type sui_types::error::SuiResult">SuiResult</a>&gt;</h4></section></summary><div class="docblock"><p>Attempt to acquire object locks for all of the owned input locks.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-ExecutionCacheWrite-for-PassthroughCache" class="impl"><a class="src rightside" href="../../src/sui_core/execution_cache/passthrough_cache.rs.html#251-300">source</a><a href="#impl-ExecutionCacheWrite-for-PassthroughCache" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ExecutionCacheWrite.html" title="trait sui_core::execution_cache::ExecutionCacheWrite">ExecutionCacheWrite</a> for <a class="struct" href="passthrough_cache/struct.PassthroughCache.html" title="struct sui_core::execution_cache::passthrough_cache::PassthroughCache">PassthroughCache</a></h3></section><section id="impl-ExecutionCacheWrite-for-ProxyCache" class="impl"><a class="src rightside" href="../../src/sui_core/execution_cache/proxy_cache.rs.html#239-260">source</a><a href="#impl-ExecutionCacheWrite-for-ProxyCache" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ExecutionCacheWrite.html" title="trait sui_core::execution_cache::ExecutionCacheWrite">ExecutionCacheWrite</a> for <a class="struct" href="proxy_cache/struct.ProxyCache.html" title="struct sui_core::execution_cache::proxy_cache::ProxyCache">ProxyCache</a></h3></section><section id="impl-ExecutionCacheWrite-for-WritebackCache" class="impl"><a class="src rightside" href="../../src/sui_core/execution_cache/writeback_cache.rs.html#1803-1822">source</a><a href="#impl-ExecutionCacheWrite-for-WritebackCache" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ExecutionCacheWrite.html" title="trait sui_core::execution_cache::ExecutionCacheWrite">ExecutionCacheWrite</a> for <a class="struct" href="writeback_cache/struct.WritebackCache.html" title="struct sui_core::execution_cache::writeback_cache::WritebackCache">WritebackCache</a></h3></section></div><script src="../../trait.impl/sui_core/execution_cache/trait.ExecutionCacheWrite.js" async></script></section></div></main></body></html>